# Specification: ScopeNotificationSettings
module: scope_notification_settings
crate: rustgram-scope-notification-settings
tdlib_reference: references/td/td/telegram/ScopeNotificationSettings.h
complexity: LOW
module_type: Struct Type
estimated_loc: 350-450
estimated_tests: 40-50

types:
  - name: ScopeNotificationSettings
    description: |
      Notification settings for a scope (private, group, channel).
      
      Contains notification preferences including mute status, sound settings,
      story notification settings, and local overrides.
    fields:
      - name: mute_until
        type: i32
        description: Timestamp until which notifications are muted
        optional: false
      - name: sound
        type: Option<NotificationSound>
        description: Notification sound setting
        optional: true
      - name: story_sound
        type: Option<NotificationSound>
        description: Story notification sound setting
        optional: true
      - name: show_preview
        type: bool
        description: Whether to show message preview
        optional: false
      - name: use_default_mute_stories
        type: bool
        description: Whether to use default mute stories setting
        optional: false
      - name: mute_stories
        type: bool
        description: Whether to mute story notifications
        optional: false
      - name: hide_story_sender
        type: bool
        description: Whether to hide story sender
        optional: false
      - name: is_synchronized
        type: bool
        description: Whether settings are synchronized with server
        optional: false
      - name: disable_pinned_message_notifications
        type: bool
        description: Local: disable pinned message notifications
        optional: false
      - name: disable_mention_notifications
        type: bool
        description: Local: disable mention notifications
        optional: false

external_dependencies:
  - type: NotificationSound
    crate: rustgram-notification-sound
    verified: false # STUB NEEDED

constructors:
  - name: new
    description: Creates new ScopeNotificationSettings with specified values
    parameters:
      - name: mute_until
        type: i32
      - name: sound
        type: Option<NotificationSound>
      - name: story_sound
        type: Option<NotificationSound>
      - name: show_preview
        type: bool
      - name: use_default_mute_stories
        type: bool
      - name: mute_stories
        type: bool
      - name: hide_story_sender
        type: bool
      - name: disable_pinned_message_notifications
        type: bool
      - name: disable_mention_notifications
        type: bool
    returns: Self
  - name: default
    description: Creates default settings
    returns: Self

methods:
  - name: with_synchronized
    description: Marks settings as synchronized
    returns: Self

traits:
  - Debug
  - Clone
  - PartialEq
  - Eq
  - Serialize
  - Deserialize

test_plan:
  unit_tests: 40
  doc_tests: 12

notes: |
  NotificationSound stub needed.
  This is a settings struct with many boolean flags.
  The is_synchronized flag indicates server sync status.
  Local settings (disable_pinned_message_notifications, disable_mention_notifications)
  are not sent to server.
